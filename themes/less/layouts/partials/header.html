<head>
  <title>{{ .Params.emoji }} {{ .Title }} </title>
  <meta name="Description" content="{{ with .Description }}{{ . }}{{ else }}{{if .IsPage}}{{ .Summary }}{{ else }}{{ with .Site.Params.description }}{{ . }}{{ end }}{{ end }}{{ end }}">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
  {{ $style := resources.Get "css/application.css" | minify | fingerprint }}
  <link rel="stylesheet" href="{{ $style.Permalink }}">
  <link rel="icon" href="{{ "/favicon.ico" | absURL }}">
  <link rel="shortcut icon" href="{{ "/favicon.ico" | absURL }}">
  {{ range .AlternativeOutputFormats -}}
    <link rel="{{ .Rel }}" type="{{ .MediaType.Type }}" href="{{ .Permalink | safeURL }}" title="{{ $.Site.Title }}">
  {{ end -}}
  {{ partial "opengraph.html" . }}
  {{ template "_internal/google_news.html" . }}
  {{ template "_internal/twitter_cards.html" . }}
  {{ partial "seo_schema" . }}
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script>
  {{ $.Scratch.Set "jslibs" slice }}
  {{ $libs := slice "js/cash.min.js" "js/flickity.pkgd.min.js" "js/bg-lazyload.js" "js/medium-zoom.min.js" "js/iolazy.min.js" }}
  {{ range $libs }}
    {{ $.Scratch.Add "jslibs" (resources.Get . ) }}
  {{ end }}
  {{ $js := .Scratch.Get "jslibs" | resources.Concat "js/main.js" }}
  {{ if .Site.IsServer }}
    <script src="{{ $js.Permalink }}" defer></script>
  {{ else }}
    {{ $js := $js | minify | fingerprint }}
    <script src="{{ $js.Permalink }}" integrity="{{ $js.Data.Integrity }}" defer></script>
  {{ end }}
</head>
